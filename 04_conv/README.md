# 介绍

本代码利用共享内存实现图像卷积。

![20240723114117](https://raw.githubusercontent.com/ajumpbird/myPic/main/20240723114117.png)

假设我们的block尺寸为3x3，由于共享内存是被一个block共享的，一个block用于计算输出矩阵中的3x3个元素，比如第一个block用于计算输出矩阵中的左上角部分的元素，那么需要用到的所有图像元素就是红色方框（5x5）中的元素，红色方框中元素应当被存储到共享内存中。

如何将红色方框中的元素存储到共享内存中？让block中的所有线程来干活吧，一个block有9个干活的线程，需要存储的元素有5x5=25个，需要ceil(25/9)=3轮循环。存储完毕之后，就由共享内存和卷积核进行卷积，得到这一部分输出元素，这个卷积也是由线程来干活的。

注意，这里block的尺寸恰好核卷积核的尺寸一样了，实际中block的尺寸要大的多。
